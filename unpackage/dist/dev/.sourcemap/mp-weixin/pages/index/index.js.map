{"version":3,"sources":["uni-app:///main.js","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?7ddc","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?b5e7","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?eb37","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?0ca0","uni-app:///pages/index/index.vue","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?a0a8","webpack:///D:/stone/点滴大学/Diandi_uni/pages/index/index.vue?10ae"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t\r\n\t<view class=\"box\" >\r\n\t\t\r\n\t\t<!-- 侧边栏开始 -->\r\n\t\t<view class=\"selfinfo\" :class=\"{startleft: if_info, endleft: !if_info}\">\r\n\t\t\t\r\n\t\t\t<view class=\"selfinfoHead\" :class=\"[ifhot ? 'hot' : 'cool']\">\r\n\t\t\t\t<view class=\"indexLoginBtn\" @click=\"indexLogin\" v-if=\"!iflogin\">登陆</view>\r\n\t\t\t\t<image :src=\"userInfo.avatarUrl\" v-if=\"iflogin\"></image>\r\n\t\t\t\t<view v-if=\"iflogin\">\r\n\t\r\n\t\t\t\t\t<view>{{ userInfo.nickName }}</view>\r\n\t\t\t\t\t<view lang=\"zh_CN\" class=\"address\"> {{ userInfo.province }}{{ userInfo.city }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottomBox\">\r\n\t\t\t\t<view class=\"self\" @click=\"changeToSelf\">\r\n\t\t\t\t\t<text class=\"iconfont iconxueshengguanli\"></text>个人点滴\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"class\" @click=\"changeToClass\">\r\n\t\t\t\t\t<text class=\"iconfont iconbanjiguanli\"></text>班级点滴\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"personal\" @click=\"changeToPersonal\">\r\n\t\t\t\t\t<text class=\"iconfont iconxueshengguanli\"></text>我\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"set\" @click=\"changeToSet\">\r\n\t\t\t\t\t<text class=\"iconfont iconshezhi1\"></text>设置\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\t\t\r\n\t\t<!-- 侧边栏结束 -->\r\n\t\t<!-- 主体内容开始 -->\r\n\t\t<view class=\"body\"  :class=\"{startleft: if_info, endleft: !if_info}\">\r\n\t\t\t\r\n\t\t\t<!-- 登录 -->\r\n\t\t\t<view class=\"login\" v-if=\"!reallLogin\" id=\"indexLoginBox\"  @click=\"cancelLoginBox\">\r\n\t\t\t\t<view class=\"loginBox\" id=\"indexLoginChild\">\r\n\t\t\t\t\t您需要先登录后才可发布点滴\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button withCredentials=\"true\" @getuserinfo=\"bindGetUserInfo\"  class=\"loginBtn\"  @click=\"login\" open-type=\"getUserInfo\">微信登录</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 遮罩层 -->\r\n\t\t\t<view class=\"cover\" v-if = \"!if_info\" @click=\"closeInfo\"></view>\r\n\t\r\n\t\t\t<MyDiandi @toLogin=\"toLogin\"  v-if=\"ifMyClass\" :Thetitle=\"title\" :login=\"iflogin\" :permission=\"permission\">\r\n\t\t\t\r\n\t\t\t\t<!-- 点开侧边栏按钮 start -->\r\n\t\t\t\t<view class=\"iconfont iconcaidan\" @click=\"getinfo\"></view>\r\n\t\t\t\t<!-- 点开侧边栏按钮 end -->\r\n\t\t\t</MyDiandi>\r\n\t\t\t<ClassDiandi v-if=\"ifInitClass\" @toLogin=\"toLogin\" :login=\"iflogin\" @getclass=\"getClass\" :classCode=\"inivCode\" :classId=\"inviClass\">\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<!-- 点开侧边栏按钮 start -->\r\n\t\t\t\t<view class=\"iconfont iconcaidan\" @click=\"getinfo\"> </view>\r\n\t\t\t\t<!-- 点开侧边栏按钮 end -->\r\n\t\t\t</ClassDiandi>\r\n\t\t\t<Personal v-if=\"ifPersonal\" @classChange=\"classChange\" :login=\"iflogin\" @toLogin=\"toLogin\" >\r\n\t\t\t\t<!-- 点开侧边栏按钮 start -->\r\n\t\t\t\t<view class=\"iconfont iconcaidan personalIcon\" @click=\"getinfo\" > </view>\r\n\t\t\t\t<!-- 点开侧边栏按钮 end -->\r\n\t\t\t</Personal>\r\n\t\t\t<Set v-if=\"set\">\r\n\t\t\t\t<view class=\"iconfont iconcaidan personalIcon\" @click=\"getinfo\" > </view>\r\n\t\t\t</Set>\r\n\t\t</view>\r\n\t\t<!-- 主体内容结束 -->\r\n\t\t<popup v-if=\"ifNote\" :infoData=\"noteData\"></popup>\r\n\t</view>\r\n\t\r\n\r\n</template>\r\n\r\n<script>\r\n\timport self from '../../static/request.js'\r\n\timport MyDiandi from '../../components/MyDiandi.vue'\r\n\timport ClassDiandi from '../../components/ClassDiandi.vue'\r\n\timport Personal from '../../components/Personal.vue'\r\n\timport Set from '../../components/Set.vue'\r\n\timport publicFun from '@/static/public.js'\r\n\timport popup from '@/components/Popup.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tMyDiandi,\r\n\t\t\tClassDiandi,\r\n\t\t\tPersonal,\r\n\t\t\tSet,\r\n\t\t\tpopup\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinfoData: '',\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tcanIUse: wx.canIUse('button.open-type.getUserInfo'),\r\n\t\t\t\thasUserInfo: false,\r\n\t\t\t\tif_info: true,\r\n\t\t\t\tifHaveClass: false,\r\n\t\t\t\ttitle: '个人点滴',\r\n\t\t\t\tifMyClass: true,\r\n\t\t\t\tifInitClass: false,\r\n\t\t\t\tifPersonal: false,\r\n\t\t\t\tifphone: false,\r\n\t\t\t\tiflogin: false,\r\n\t\t\t\tpermission: {},\r\n\t\t\t\trefresh: false,\r\n\t\t\t\treallLogin: true,\r\n\t\t\t\tset: false,\r\n\t\t\t\tifNote: false,\r\n\t\t\t\tnoteData: '',\r\n\t\t\t\tinivCode: '',\r\n\t\t\t\tinviClass: '',\r\n\t\t\t\tifhot: true,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// 点滴遮罩层 关闭登陆\r\n\t\t\tcancelLoginBox (e) {\r\n\t\t\t\tif (e.currentTarget.id === e.target.id) {\r\n\t\t\t\t\tthis.reallLogin = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tindexLogin () {\r\n\t\t\t\tthis.reallLogin = false\r\n\t\t\t\tthis.closeInfo()\r\n\t\t\t},\r\n\t\t\ttoLogin () {\r\n\t\t\t\tthis.reallLogin = false\r\n\t\t\t\t\r\n\t\t\t\tthis.changeToSelf()\r\n\t\t\t\t// wx.hideLoading()\r\n\t\t\t},\r\n\t\t\t// 在个人信息退出班级\r\n\t\t\tclassChange () {\r\n\t\t\t\tthis.ifHaveClass = false\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加入班级时的传值\r\n\t\t\tgetClass (data) {\r\n\t\t\t\t\r\n\t\t\t\tthis.ifHaveClass = true\r\n\t\t\t\tthis.ifInitClass = false\r\n\t\t\t\tthis.ifMyClass = true\r\n\t\t\t\tthis.ifPersonal = false\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 切换到设置\r\n\t\t\tchangeToSet () {\r\n\t\t\t\tthis.ifMyClass = false\r\n\t\t\t\tthis.ifInitClass = false\r\n\t\t\t\tthis.ifPersonal = false\r\n\t\t\t\tthis.set = true\r\n\t\t\t\t\r\n\t\t\t\tthis.closeInfo()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t*切换到我的\r\n\t\t\t*/\r\n\t\t\tchangeToPersonal () {\r\n\t\t\t\tthis.ifMyClass = false\r\n\t\t\t\tthis.ifInitClass = false\r\n\t\t\t\tthis.ifPersonal = true\r\n\t\t\t\tthis.set = false\r\n\t\t\t\tthis.closeInfo()\r\n\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t*切换到班级点滴\r\n\t\t\t*/\r\n\t\t\tchangeToClass () {\r\n\t\t\t\t\r\n\t\t\t\tif (this.ifHaveClass) {\r\n\t\t\t\t\tthis.title = '班级点滴'\r\n\t\t\t\t\tthis.ifMyClass = true\r\n\t\t\t\t\tthis.ifInitClass = false\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.title = '班级点滴'\r\n\t\t\t\t\tthis.ifMyClass = false\r\n\t\t\t\t\tthis.ifInitClass = true\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.ifPersonal = false\r\n\t\t\t\tthis.set = false\r\n\t\t\t\tthis.closeInfo()\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t*切换到个人点滴\r\n\t\t\t*/\r\n\t\t\tchangeToSelf () {\r\n\t\t\t\tthis.title = '个人点滴'\r\n\t\t\t\tthis.ifMyClass = true\r\n\t\t\t\tthis.ifInitClass = false\r\n\t\t\t\tthis.ifPersonal = false\r\n\t\t\t\tthis.set = false\r\n\t\t\t\tthis.closeInfo()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t*关闭个人信息\r\n\t\t\t*/\r\n\t\t\tcloseInfo () {\r\n\t\t\t\tthis.if_info = true\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t* 点击展开个人信息\r\n\t\t\t*/\r\n\t\t\tgetinfo () {\r\n\t\t\t\tthis.if_info = false\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\tlogin () {\r\n\t\t\t\t\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t\r\n\t\t\t\t//微信登陆\r\n\t\t\t\twx.login({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 成功获取 code\r\n\t\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twx.showLoading({\r\n\t\t\t\t\t\t\t\ttitle:'正在登陆...',\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 登陆\r\n\t\t\t\t\t\t\twx.request({\r\n\t\t\t\t\t\t\t\turl: 'https://wy.lujiahaoo.cn/dddx/api/auth/login/wxmp',\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\t\t\tname: _this.userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\tavatar: _this.userInfo.avatarUrl\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\t\t\t\t\tconsole.log('login',res)\r\n\t\t\t\t\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpublicFun.note('登录成功',_this)\r\n\t\t\t\t\t\t\t\t\t\t// uni.report('login','登录成功')\r\n\t\t\t\t\t\t\t\t\t\t_this.iflogin = true\r\n\t\t\t\t\t\t\t\t\t\t_this.reallLogin = true\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// token 缓存\r\n\t\t\t\t\t\t\t\t\t\twx.setStorageSync('token',res.data.data.token)\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 获取用户在小程序的信息\r\n\t\t\t\t\t\t\t\t\t\t_this.info()\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t_this.reallLogin = true\r\n\t\t\t\t\t\t\t\t\t\tpublicFun.note(res.data.msg,_this)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail (res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取用户权限\r\n\t\t\tbindGetUserInfo (e) {\r\n\t\t\t\t //用户按了允许授权按钮\r\n\t\t\t\tif (e.detail.userInfo){\r\n\t\t\t\t\twx.getUserInfo({\r\n\t\t\t\t\t\tlang: \"zh_CN\",\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.userInfo = res.userInfo\r\n\t\t\t\t\t\t\t// 把用户信息赋值给全局变量 userinfo\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twx.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: '正在登陆...',\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.login()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回\r\n\t\t\t\t\t\t\t// 所以此处加入 callback 以防止这种情况\r\n\t\t\t\t\t\t\tif (this.userInfoReadyCallback) {\r\n\t\t\t\t\t\t\t\tthis.userInfoReadyCallback(res)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t  //用户按了拒绝按钮\r\n\t\t\t\t  publicFun.note('无法获取您的信息',this)\r\n\t\t\t\t \r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取用户在本小程序的个人信息\r\n\t\t\tinfo () {\r\n\t\t\t\t\r\n\t\t\t\t//获取个人信息\r\n\t\t\t\tself.getRequest('/user/profile',{\r\n\t\t\t\t\t\r\n\t\t\t\t},(res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\r\n\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\tthis.iflogin = true\r\n\t\t\t\t\t\tthis.reallLogin = true\r\n\t\t\t\t\t\t// 用户信息\r\n\t\t\t\t\t\tthis.infoData = res.data.data\r\n\t\t\t\t\t\tgetApp().globalData.personal = this.infoData\r\n\t\t\t\t\t\t// 用户权限\r\n\t\t\t\t\t\tthis.permission = this.infoData.permission\r\n\t\t\t\t\t\tif(this.infoData.class != null ) {\r\n\t\t\t\t\t\t\t// 有班级\r\n\t\t\t\t\t\t\tthis.ifHaveClass = true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 无班级\r\n\t\t\t\t\t\t\tthis.ifHaveClass = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t} else if (res.data.code === 50001 || res.data.code === 50002 || res.data.code === 50003) {\r\n\t\t\t\t\t\t// 有权限但需要重新登陆\r\n\t\t\t\t\t\t// 如果获取不到信息则重新登陆\r\n\t\t\t\t\t\tthis.iflogin = false\r\n\t\t\t\t\t\tconsole.log('有权限但需要重新登陆')\r\n\t\t\t\t\t\t// this.reallLogin = false\r\n\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpublicFun.note('无法获取您的信息',this)\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\t\tconsole.log('error',error)\r\n\t\t\t\t},'GET')\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tiflogin () {\r\n\t\t\t\twx.hideLoading()\r\n\t\t\t\tif (this.iflogin === true) {\r\n\t\t\t\t\tthis.reallLogin = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.reallLogin = false\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\r\n\t\t\t// 是否点邀请链接进来的\r\n\t\t\tif (option.share === 'true') {\r\n\t\t\t\tthis.inivCode = option.code\r\n\t\t\t\tthis.inviClass = option.classId\r\n\t\t\t\tthis.changeToClass()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\t// 背景颜色\r\n\t\t\tif (wx.getStorageSync('bgColor') === 'code' ) {\r\n\t\t\t\tthis.ifhot = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.ifhot = true\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twx.showLoading({\r\n\t\t\t\ttitle: '正获取信息...',\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//查看是否授权（已授权则可以获取用户微信信息）\r\n\t\t\twx.getSetting({\r\n\t\t\t  success: res => {\r\n\t\t\t\t\r\n\t\t\t\tif (res.authSetting['scope.userInfo']) {\r\n\t\t\t\t\r\n\t\t\t\t\t// 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\r\n\t\t\t\t\twx.getUserInfo({\r\n\t\t\t\t\t\tlang: \"zh_CN\",\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 用户信息赋值\r\n\t\t\t\t\t\t\tthis.userInfo = res.userInfo\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 把用户信息赋值给全局变量 userinfo\r\n\t\t\t\t\t\t\tgetApp().globalData.userInfo = this.userInfo\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 获取用户在小程序里的信息\r\n\t\t\t\t\t\t\tthis.info()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回\r\n\t\t\t\t\t\t\t// 所以此处加入 callback 以防止这种情况\r\n\t\t\t\t\t\t\tif (this.userInfoReadyCallback) {\r\n\t\t\t\t\t\t\t\tthis.userInfoReadyCallback(res)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\t\t// 没有授权 则没有登陆过   iflogin = false 弹出登陆弹窗\r\n\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\tconsole.log('没有授权',getApp().globalData.ifFirst)\r\n\t\t\t\t\tif (getApp().globalData.ifFirst) {\r\n\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t    url: '../guide/guide'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tgetApp().globalData.ifFirst = false\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t//     url: '../guide/guide'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tthis.iflogin = false\r\n\t\t\t\t\t// this.reallLogin = false\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t  },\r\n\t\t\t  fail : res => {\r\n\t\t\t\t  console.log(res)\r\n\t\t\t  }\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t /*pages/home/home.wxss */\r\n\t.indexLoginBtn{\r\n\t\tfont-size: 40rpx;\r\n\t\tletter-spacing: 5rpx;\r\n\t}\r\n\t .startleft{\r\n\t\t left: -380upx;\r\n\t }\r\n\t .endleft{\r\n\t\t left: 0;\r\n\t }\r\n\t.box{\r\n\t\tdisplay: flex;\r\n\t}\r\n\t/*侧边栏开始*/\r\n\t.selfinfo{\r\n\t\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 380rpx;\r\n\t\tflex-shrink: 0;\r\n\t\tbackground: #fff;\r\n\t\tposition: relative;\r\n\t\ttransition: all 0.5s ease-in-out ;\r\n\t\theight: 100vh;\r\n\t}\r\n\t.selfinfoHead{\r\n\t\theight: 372rpx;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\t.selfinfoHead> view {\r\n\t\tmargin-left: 27rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.selfinfoHead>image{\r\n\t\twidth: 123rpx;\r\n\t\theight: 123rpx;\r\n\t\tborder-radius: 3rpx;\r\n\t}\r\n\t.address{\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\t.personal,\r\n\t.self,\r\n\t.class,\r\n\t.set{\r\n\t\tmargin-top: 110rpx;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\t.bottomBox{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.iconxueshengguanli,\r\n\t.iconbanjiguanli,\r\n\t.iconxueshengguanli,\r\n\t.iconshezhi1{\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t/*侧边栏结束*/\r\n\t\r\n\t/*主体内容开始*/\r\n\t.body {\r\n\t\twidth: 100vw;\r\n\t\tflex-shrink: 0;\r\n\t\tposition: relative;\r\n\t\ttransition: all 0.5s ease-in-out;\r\n\t}\r\n\t/* 登录 */\r\n\t.login{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbackground-color: rgba(0,0,0,0.4);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 15000;\r\n\t}\r\n\t.loginBox{\r\n\t\twidth: 60vw;\r\n\t\theight: 30vh;\r\n\t\tborder-radius: 5px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #98ba9a;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 37upx;\r\n\t\tpadding: 50upx;\r\n\t\tletter-spacing: 5upx;\r\n\t\tline-height: 60upx;\r\n\t}\r\n\t.loginBtn{\r\n\t\tmargin-top: 80upx;\r\n\t}\r\n\t.phoneLoginBtn{\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\t.loginBtn,\r\n\t.phoneLoginBtn{\r\n\t\twidth: 350upx;\r\n\t\theight: 80upx;\r\n\t\tborder-radius: 5px;\r\n\t\tline-height: 80upx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #fff;\r\n\t\tcolor: #98BA9A;\r\n\t\t\r\n\t}\r\n\t\r\n\t/* 登录结束 */\r\n\t/*点开侧边栏按钮开始*/\r\n\t\r\n\t.iconcaidan{\r\n\t\tmargin-left: 60rpx;\r\n\t\tfont-size: 60rpx;\r\n\t}\r\n\t/*点开侧边栏按钮结束*/\r\n\t\r\n\t.cover{  /*点开侧边栏时的遮罩层*/\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbackground: rgba(0,0,0,0.3);\r\n\t\tz-index: 10000;\r\n\t\r\n\t}\r\n\t\r\n\t/*主体内容结束*/\r\n\t.personalIcon{\r\n\t\tposition: relative;\r\n\t\tz-index: 17;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611055729891\n      var cssReload = require(\"D:/安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}