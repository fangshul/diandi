{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/stone/点滴大学/Diandi_uni/pages/addDiandi/addDiandi.vue?1c12","webpack:///D:/stone/点滴大学/Diandi_uni/pages/addDiandi/addDiandi.vue?8135","webpack:///D:/stone/点滴大学/Diandi_uni/pages/addDiandi/addDiandi.vue?5cc5","uni-app:///pages/addDiandi/addDiandi.vue","webpack:///D:/stone/点滴大学/Diandi_uni/pages/addDiandi/addDiandi.vue?3965","webpack:///D:/stone/点滴大学/Diandi_uni/pages/addDiandi/addDiandi.vue?a618"],"names":["createPage","Page"],"mappings":"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","file":"pages/addDiandi/addDiandi.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/addDiandi/addDiandi.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addDiandi.vue?vue&type=template&id=aff10390&\"\nvar renderjs\nimport script from \"./addDiandi.vue?vue&type=script&lang=js&\"\nexport * from \"./addDiandi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addDiandi.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/addDiandi/addDiandi.vue\"\nexport default component.exports","export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addDiandi.vue?vue&type=template&id=aff10390&\"","var components\ntry {\n  components = {\n    uniCalendar: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-calendar/uni-calendar\" */ \"@/components/uni-calendar/uni-calendar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addDiandi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addDiandi.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"body\">\r\n\t\t\r\n\t\t<view class=\"topBox\">\r\n\t\t\t<view class=\"headBg\" :class=\"[ifhot ? 'hot' : 'cool']\">\r\n\t\t\t\t<view  class=\"head\">\r\n\t\t\t\t\t<view @tap=\"navigateBack\" >取消</view>\r\n\t\t\t\t\t<view @click=\"callImgBox\">添加照片</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"selectBox\">\r\n\t\t\t\t\t<!-- 时间 -->\r\n\t\t\t\t\t<view  @click=\"openCancel\">  \r\n\t\t\t\t\t\t<view class=\"addDiandiweek\">{{ currentWeek }}</view>\r\n\t\t\t\t\t\t<view class=\"addDiandidate\">{{ currentDate }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 选择类型 -->\r\n\t\t\t\t\t<view class=\"selectType\" v-if=\"diandiType === '个人点滴'\">\r\n\t\t\t\t\t\t<view @click=\"open\">\r\n\t\t\t\t\t\t\t{{ type }}\r\n\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\tclass=\"iconfont iconsanjiaoxing \"\r\n\t\t\t\t\t\t\t\t:class=\"{ tran: ifselect }\"\r\n\t\t\t\t\t\t\t></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tclass=\"typeBox\"\r\n\t\t\t\t\t\t\t:class=\"{ open: ifselect, noOpen: !ifselect }\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tv-for=\"item in allType\" \r\n\t\t\t\t\t\t\t\t:key=\"item.id\" \r\n\t\t\t\t\t\t\t\t@click=\"select(item.name,item.id)\"\r\n\t\t\t\t\t\t\t\tclass=\"study\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"data\">\r\n\t\t\t\t\r\n\t\t\t\t<textarea \r\n\t\t\t\t\tclass=\"dataArea\" \r\n\t\t\t\t\tmaxlength=\"2500\"\r\n\t\t\t\t\tplaceholder=\"在这里记录下你的点滴\" \r\n\t\t\t\t\tplaceholder-style=\"color: #000;\"\r\n\t\t\t\t\t@input=\"dataLength\"\r\n\t\t\t\t\tv-model=\"diandiData\"></textarea>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"textLength\">{{ nowLength }}/2500</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 添加图片按钮 -->\r\n\t\t<view class=\"btnBox\">\r\n\t\t\t<view \r\n\t\t\t\tclass=\"addImgBtn hot\" \r\n\t\t\t\t@click=\"addDiandi\" \r\n\t\t\t\t:class=\"[ifhot ? 'hot' : 'cool']\">\r\n\t\t\t\t添加点滴\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<view class=\"cover\" v-show=\"ifImg\" @click=\"cancelImgBox\"></view>\r\n\t\t<!-- 选择图片 -->\r\n\t\t<view class=\"imgBox\" :class=\"{ openImgBox: ifImg, notOpenImgBox: !ifImg }\">\r\n\t\t\t<view class=\"imgBoxTitle\">添加图片</view>\r\n\t\t\t<view class=\"itemBox\">\r\n\t\t\t\t<view class=\" addImgIcon\" @click=\"addImg\">\r\n\t\t\t\t\t+\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<image \r\n\t\t\t\t\tv-for=\"(item,index) in imgList\" \r\n\t\t\t\t\t:src=\"item\" \r\n\t\t\t\t\tclass=\"pushImg\" \r\n\t\t\t\t\t:key=\"index\" \r\n\t\t\t\t\t@click=\"preview(item)\">\r\n\t\t\t\t</image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 日历 -->\r\n\t\t<view class=\"calendar\">\r\n\t\t\t<uni-calendar \r\n\t\t\t\tref=\"calendar\"\r\n\t\t\t    :insert=\"false\"\r\n\t\t\t    :lunar=\"true\" \r\n\t\t\t    @confirm=\"change\"\r\n\t\t\t     ></uni-calendar>\r\n\t\t</view>\r\n\t\t<popup \r\n\t\t\tstyle=\"position: absolute;left: 0;\" \r\n\t\t\tv-if=\"ifNote\" \r\n\t\t\t:infoData=\"noteData\">\r\n\t\t</popup>\r\n\t</view>\n</template>\n\n<script>\r\n\timport self from '../../static/request.js'\r\n\timport uniCalendar from '@/components/uni-calendar/uni-calendar.vue'\r\n\timport popup from '@/components/Popup.vue'\r\n\timport publicFun from '@/static/public.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniCalendar,\r\n\t\t\tpopup\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdiandiData: '',\r\n\t\t\t\tnowLength: 0,\r\n\t\t\t\tifselect: false,\r\n\t\t\t\ttype: '选择类型',\r\n\t\t\t\timgList: [],\r\n\t\t\t\tifImg: false,\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tlinkData: '',\r\n\t\t\t\tcurrentWeek: '',\r\n\t\t\t\tcurrentDate: '',\r\n\t\t\t\treturnTime: '',\r\n\t\t\t\taddToken:'',\r\n\t\t\t\tallType: '',\r\n\t\t\t\ttypeID: '',\r\n\t\t\t\tdiandiType: '',\r\n\t\t\t\ttampList: [],\r\n\t\t\t\tifNote: false,\r\n\t\t\t\tnoteData: '',\r\n\t\t\t\tifhot: true,\r\n\t\t\t\tpushDiandi: true\n\t\t\t}\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\r\n\t\t\tthis.diandiType = option.type\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 预览\r\n\t\t\tpreview (item) {\r\n\t\t\t\r\n\t\t\t\t wx.previewImage({\r\n\t\t\t\t\tcurrent: item,\r\n\t\t\t\t\turls: this.tampList\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//返回上一页\r\n\t\t\tnavigateBack () {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\r\n\t\t\t//打开日历\r\n\t\t\topenCancel(){\r\n\t\t\t\tthis.$refs.calendar.open();\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 选择的日期\r\n\t\t\tchange(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tlet data = new Date()\r\n\t\t\t\tlet hour = data.getHours()\r\n\t\t\t\tlet min = data.getMinutes()\r\n\t\t\t\tlet sec = data.getSeconds()\r\n\t\t\t\tthis.currentWeek = publicFun.week(e.lunar.nWeek)\r\n\t\t\t\tthis.currentDate = `${ publicFun.month(e.month) }  ${ e.date },${ e.year }`\r\n\t\t\t\t\r\n\t\t\t\tthis.returnTime = `${e.fulldate} ${this.timeModel(hour)}:${this.timeModel(min)}:${this.timeModel(sec)}`\r\n\t\t\t},\r\n\t\t\t// 字数\n\t\t\tdataLength () {\r\n\t\t\t\tthis.nowLength = this.diandiData.length\r\n\t\t\t},\r\n\t\t\t//打开选择类型\r\n\t\t\topen () {\r\n\t\t\t\tthis.ifselect = !this.ifselect\r\n\t\t\t},\r\n\t\t\t//选择点滴类型\r\n\t\t\tselect (msg,id) {\r\n\t\t\t\tthis.type = msg\r\n\t\t\t\tthis.ifselect = false\r\n\t\t\t\tthis.typeID = id\r\n\t\t\t},\r\n\t\t\t//添加图片\r\n\t\t\t addImg () {\r\n\t\t\r\n\t\t\t\t // 选择图片\r\n\t\t\t\twx.chooseImage({\r\n\t\t\t\t   count: 9,\r\n\t\t\t\t   sizeType: ['original', 'compressed'],\r\n\t\t\t\t   sourceType: ['album', 'camera'],\r\n\t\t\t\t   success: (res) => {\r\n\t\t\t\t     // tempFilePath可以作为img标签的src属性显示图片\r\n\t\t\t\t     const tempFilePaths = res.tempFilePaths\r\n\t\t\t\t\tthis.tampList = this.tampList.concat(tempFilePaths)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 上传图片\r\n\t\t\t\t\tthis.upload(0,0,0,res.tempFilePaths.length,res.tempFilePaths)\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < tempFilePaths.length; i++ ) {\r\n\t\t\t\t\t\tthis.$set(this.imgList,this.imgList.length,tempFilePaths[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t\t \r\n\t\t\t\t   }\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t },\r\n\t\t\t //上传图片\r\n\t\t\t upload (lens,successs,fails,maxlen,path) {\r\n\t\t\t\t let _this = this\r\n\t\t\t\twx.showLoading({\r\n\t\t\t\t\ttitle: '上传中...',\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t})\r\n\t\t\t\tlet len = lens,\r\n\t\t\t\t\tsuccess = successs,\r\n\t\t\t\t\tfail = fails\r\n\t\t\t\t wx.uploadFile({\r\n\t\t\t\t \turl: 'https://wy.lujiahaoo.cn/dddx/api/upload/image',\r\n\t\t\t\t\tfilePath: path[len],\r\n\t\t\t\t\tname: 'image',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t\t\t'Authorization' : 'Bearer ' + this.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\t\tsuccess++\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet data = JSON.parse(res.data)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.code === 200) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.linkData = this.linkData + data.data + ';'\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tfail++\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tlen++\r\n\t\t\t\t\t\tif (len === maxlen) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.upload(len,success,fail,maxlen,path)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t })\r\n\t\t\t },\r\n\t\t\t //打开选择图片\r\n\t\t\t callImgBox () {\r\n\t\t\t\tthis.ifImg = true\r\n\t\t\t },\r\n\t\t\t //关闭选择图片\r\n\t\t\t cancelImgBox () {\r\n\t\t\t\tthis.ifImg = false\r\n\t\t\t },\r\n\t\t\t\r\n\t\t\t //添加点滴\r\n\t\t\t addDiandi () {\r\n\t\t\t\tconsole.log('aa')\r\n\r\n\t\t\t\t if (this.diandiData === '') {\r\n\t\t\t\t\t\r\n\t\t\t\t\t publicFun.note('点滴内容不能为空',this)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t } else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.diandiType === '个人点滴') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 个人点滴\r\n\t\t\t\t\t\tif (this.type === '选择类型') {\r\n\t\t\t\t\t\t\tpublicFun.note('请选择点滴类型',this)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.pushDiandi) {\r\n\t\t\t\t\t\t\t\tthis.pushDiandi = false\r\n\t\t\t\t\t\t\t\twx.showLoading({\r\n\t\t\t\t\t\t\t\t  title: '上传中...',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\twx.request({\r\n\t\t\t\t\t\t\t\t\turl: 'https://wy.lujiahaoo.cn/dddx/api/personal/essay',\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t writed_at: this.returnTime,\r\n\t\t\t\t\t\t\t\t\t\t tag: this.typeID,\r\n\t\t\t\t\t\t\t\t\t\t content: this.diandiData,\r\n\t\t\t\t\t\t\t\t\t\t image: this.linkData\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t\t\t\t\t\t'Authorization' : 'Bearer ' + this.token\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\t\t\t\t\t\t if (res.data.code === 200 ) {\r\n\t\t\t\t\t\t\t\t\t\t\tpublicFun.note('提交成功，点滴正在审核中...',this)\r\n\t\t\t\t\t\t\t\t\t\t\t// uni.report('per_essay','发布个人点滴')\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pushDiandi = true\r\n\t\t\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t\t\t } else {\r\n\t\t\t\t\t\t\t\t\t\t\t publicFun.note(res.data.msg,this)\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pushDiandi = true\r\n\t\t\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.pushDiandi) {\r\n\t\t\t\t\t\t\tthis.pushDiandi = false\r\n\t\t\t\t\t\t\twx.showLoading({\r\n\t\t\t\t\t\t\t  title: '上传中...',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// 班级点滴\r\n\t\t\t\t\t\t\twx.request({\r\n\t\t\t\t\t\t\t\turl: 'https://wy.lujiahaoo.cn/dddx/api/class/essay',\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t writed_at: this.returnTime,\r\n\t\t\t\t\t\t\t\t\t content: this.diandiData,\r\n\t\t\t\t\t\t\t\t\t image: this.linkData\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t\t\t\t\t'Authorization' : 'Bearer ' + this.token\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\tthis.pushDiandi = true\r\n\t\t\t\t\t\t\t\t\twx.hideLoading()\r\n\t\t\t\t\t\t\t\t\t if (res.data.code === 200 ) {\r\n\t\t\t\t\t\t\t\t\t\t publicFun.note('提交成功，点滴正在审核中...',this)\r\n\t\t\t\t\t\t\t\t\t\t // gio('track', 'per_essay')\r\n\t\t\t\t\t\t\t\t\t\t// uni.report('class_essay','发布班级点滴')\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t\t\t},1501)\r\n\t\t\t\t\t\t\t\t\t } else {\r\n\t\t\t\t\t\t\t\t\t\t publicFun.note(res.data.msg,this)\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t \r\n\t\t\t\t\t\r\n\t\t\t\t }\r\n\t\t\t },\r\n\t\t\t //修改时间格式\r\n\t\t\t timeModel (num) {\r\n\t\t\t\t let data = num.toString()\r\n\t\t\t\t if (data.length === 1 ) {\r\n\t\t\t\t\t data = '0' + data \r\n\t\t\t\t }\r\n\t\t\t\t return data\r\n\t\t\t }\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tif (wx.getStorageSync('bgColor') === 'code' ) {\r\n\t\t\t\tthis.ifhot = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.ifhot = true\r\n\t\t\t}\r\n\t\t\tself.getRequest('/tag',{},(res) => {\r\n\t\t\t\t\r\n\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\tthis.allType = res.data.data\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},(err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\t\r\n\t\t\t},'GET')\r\n\t\t\t// 获取 token\r\n\t\t\tthis.token = wx.getStorageSync('token')\r\n\t\t\t\r\n\t\t\tvar day = new Date()\r\n\t\t\tvar year = day.getFullYear()\r\n\t\t\tvar date = day.getDate()\r\n\t\t\tvar month = day.getMonth() + 1\r\n\t\t\tvar week = day.getDay()\r\n\t\t\tvar hour = day.getHours()\r\n\t\t\tvar min = day.getMinutes()\r\n\t\t\tvar sec = day.getSeconds()\r\n\t\t\t\r\n\t\t\tthis.currentWeek = publicFun.week(week)\r\n\t\t\t\r\n\t\t\tthis.currentDate = `${ publicFun.month(month) }  ${ date },${ year }`\r\n\t\t\t\r\n\t\t\tthis.returnTime = `${year}-${this.timeModel(month)}-${this.timeModel(date)} ${this.timeModel(hour)}:${this.timeModel(min)}:${this.timeModel(sec)}`\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\n\t}\n</script>\n\n<style>\n/* pages/addDiandi/addDiandi.wxss */\r\n.headBg{\r\n\t\r\n\twidth: 100vw;\r\n\tpadding: 50rpx 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tcolor: #000000;\r\n\t\r\n}\r\n\r\n.selectType{\r\n\tposition: relative;\r\n\twidth: 27vw;\r\n\ttext-align: center;\r\n}\r\n.tran{\r\n\ttransform: rotate(180deg);\r\n\tdisplay: inline-block;\r\n}\r\n.topBox{\r\n\theight: 85vh;\r\n}\r\n.btnBox{\r\n\theight: 10vh;\r\n}\n.body{\r\n\tposition: relative;\n\tcolor: #fff;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: 100vh;\n\twidth: 100vw;\n\tjustify-content: space-between;\r\n\toverflow: hidden;\n}\n/*头部 start*/\r\n.textLength{\r\n\ttext-align: right;\r\n}\n.head,\n.selectBox{\n\tdisplay: flex;\n\twidth: 85vw;\n\tjustify-content: space-between;\n\n}\r\n.selectBox{\r\n\tmargin-top: 50rpx;\r\n}\n.head{\r\n\tcolor: #000000;\n\tfont-size: 35rpx;\r\n\n}\n/*头部end*/\n.addDiandiweek{\n\tfont-size: 72rpx;\n}\n.addDiandidate{\n\tfont-size: 48rpx;\r\n\tmargin-top: 5rpx;\n}\n.data{\n\twidth: 85vw;\r\n\tmargin: 0 auto;\n\tline-height: 60rpx;\n\tfont-size: 35rpx;\n\tletter-spacing: 2rpx;\r\n\tmargin-top: 50rpx;\n}\n.addImgBtn{\n\twidth: 289rpx;\n\theight: 72rpx;\n\t\r\n\tcolor: #FFFFFF;\n\ttext-align: center;\n\tline-height: 72rpx;\n\tborder-radius: 3px;\n\tfont-size: 32rpx;\n\tletter-spacing: 5rpx;\n}\r\n.dataArea{\r\n\tcolor: #000000;\r\n\tpadding: 20upx;\r\n\tborder-radius: 5px;\r\n\theight: 50vh;\r\n}\r\n.iconsanjiaoxing {\r\n\tmargin-left: 15upx;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\t\r\n.typeBox{\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\ttransition: all 0.3s ease;\r\n\tposition: absolute;\r\n\ttop: 50upx;\r\n\tz-index: 5;\r\n}\r\n.study,\r\n.life{\r\n\theight: 35px;\r\n\tline-height: 35px;\r\n}\r\n.open{\r\n\theight: 350upx;\r\n}\r\n.noOpen{\r\n\theight: 0;\r\n}\r\n/* 上传图片 */\r\n.cover{\r\n\tposition: absolute;\r\n\tbackground-color: rgba(255,255,255,0.3);\r\n\tz-index: 2;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n}\r\n.imgBox{\r\n\theight: 50vh;\r\n\t\r\n\toverflow: auto;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tz-index: 3;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tbackground-color: #fff;\r\n\tborder-top-left-radius: 10px;\r\n\tborder-top-right-radius: 10px;\r\n\twidth: 100vw;\r\n\tcolor: #000000;\r\n\ttransition: all 0.3s ease;\r\n\tbox-shadow: 2px 0px 10px #C8C7CC;\r\n}\r\n.openImgBox{\r\n\tbottom: 0;\r\n}\r\n.notOpenImgBox{\r\n\tbottom: -50vh;\r\n}\r\n.imgBoxTitle{\r\n\tfont-size: 40rpx;\r\n\tletter-spacing: 5rpx;\r\n\tmargin-top: 50rpx;\r\n}\r\n.itemBox{\r\n\twidth: 84vw;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tmargin-top: 60rpx;\r\n}\r\n.addImgIcon{\r\n\r\n\tborder: 1px solid #000;\r\n\ttext-align: center;\r\n\tline-height: 176rpx;\r\n\tfont-size: 100rpx;\r\n\tfont-weight: 100;\r\n}\r\n.addImgIcon,\r\n.pushImg{\r\n\twidth: 176rpx;\r\n\theight: 176rpx;\r\n\tborder-radius: 5px;\r\n\tmargin-right: 30rpx;\r\n\tmargin-bottom: 30rpx;\r\n\tbox-shadow: 2px 2px 5px #C8C7CC;\r\n}\r\n\r\n.popupInfo{\r\n\tposition: absolute;\r\n\tz-index: 5;\r\n\twidth: 80vw;\r\n\theight: 20vh;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\tmargin-left: -40vw;\r\n\tmargin-top: -15vh;\r\n\tbackground-color: rgba(0,0,0,0.4);\r\n\tcolor: #fff;\r\n\tborder-radius: 5px;\r\n\tline-height: 20vh;\r\n\ttext-align: center;\r\n}\n</style>\n","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addDiandi.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addDiandi.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611055842635\n      var cssReload = require(\"D:/安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}